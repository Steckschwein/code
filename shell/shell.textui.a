!src "../vdp/t9929.h.a"
!src "../vdp/t99xx.lib.a"

.textui_init_vdp
	jsr	vdp_display_off			;display off
	
	+SetVector charset, .adrl	;setup vram with characters
	ldx	#$08
	lda	#$00
	ldy	#$40+$00
	jsr	vdp_memcpy

	jsr	vdp_mode_gfx1_blank		;blank vram
	
	lda	#Cyan<<4|Black			;gfx 1 with cyan/black
	jsr	vdp_mode_gfx1
	
	rts
	
.textui_update_screen
	inc	.bg
	lda	.bg
	jsr	vdp_bgcolor	
	rts
	sei
	+SetVector	.screen, .adrl
	lda	#$00
	ldy	#$40+$18
	ldx	#$03
	jsr	vdp_memcpy
	cli
	rts	
	
.bg	!byte 0