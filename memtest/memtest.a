*=$0200
!src "../bios/defs.h.a"
!src "../bios/bios.h.a"
adrl	= $f0
adrh	= $f1
pattern = $f2
   
	lda   #$00
	sta   adrl
   sta   pattern
	lda   #$03
	sta   adrh
   ldy   #$00
   jsr   mem_ca
-	lda pattern
   sta (adrl),y
	lda (adrl),y
	cmp   pattern
	bne   +
   inc   pattern
   bne   -
   lda   #$00
   sta   pattern
	iny
   bne   -
	inc   adrh
   jsr   mem_ca
	jmp   -
+	tax            ;save erroneous pattern
   jsr   mem_ca
   lda   #$20
   jsr   lcdprint   
   txa   
   jsr   lcdhex
-	jmp -	
mem_ca:
   tya
   pha
   jsr lcdclear   
	lda #<msg
	sta msgptr
	lda #>msg
	sta msgptr+1
   jsr lcdstring
   lda   adrh
   jsr   lcdhex
   pla
   jsr   lcdhex
   tya
   rts
msg	!text "Mem ", $00