FEATURES {
    STARTADDRESS: default = $1000;
}
SYMBOLS {
    __LOADADDR__: 	type = import;
    __STACKSIZE__:	type = weak, value = $0800; # c runtime, 2k stack
}
MEMORY 
{
    ZP: start=$0, size=$100, type=rw, define=no;
    ZPEXT: start=$0280, size=127, type=rw, define=no;
    LOADADDR: file = %O, start = %S - 2, size = $0002;
    RAM: start=%S, size=$d800-%S, type=rw, define=yes;
}

SEGMENTS 
{
	LOADADDR:   load = LOADADDR, 		type = ro;
	STARTUP:  	load = RAM,      		type = ro, define = yes;	
	INIT:     	load = RAM, run = RAM, 	type = ro,  define   = yes, optional = yes;	
	ONCE:     	load = RAM,     		type = ro,  optional = yes; 
	CODE:       load = RAM, type=rw;
	RODATA:   	load = RAM,				type = ro,  define = yes;
	DATA:     	load = RAM, 			type = rw, 	define = yes, align = $100;
	BSS:       	load = RAM, 			type = bss, define = yes, optional = no;
   ZEROPAGE:   load = ZP, type=zp;
}

FEATURES {
    CONDES: type    = constructor,
            label   = __CONSTRUCTOR_TABLE__,
            count   = __CONSTRUCTOR_COUNT__,
            segment = INIT;
    CONDES: type    = destructor,
            label   = __DESTRUCTOR_TABLE__,
            count   = __DESTRUCTOR_COUNT__,
            segment = RODATA;
}