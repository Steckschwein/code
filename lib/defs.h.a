!ifdef defs_h_a !eof
defs_h_a = 1

;----------------------------------------------------------------------------------------------
; constants
;----------------------------------------------------------------------------------------------
clockspeed	= 4 ; 4 MHz
jiffies    = 32767  ; jiffy count 100Hz for 1MHz systen
count		= clockspeed * jiffies

;----------------------------------------------------------------------------------------------
; zeropage locations 
;----------------------------------------------------------------------------------------------

!address {
; Address pointers for serial upload
; .startaddr	= $d0
; .endaddr    = $d2
; .length		= $d4
; Cursor Position and buffer
crs_x	= $d6
crs_y	= $d7
crs_ptr	= $d8 	; 2 byte ram address pointer

; general purpose address location
; transfer routine addresses
.addr 		= $da
.adrl     = .addr
.adrh     = .addr+1
.ptr1		= $dc
.ptr1l		= .ptr1
.ptr1h		= .ptr1+1
.ptr2		= $de
.ptr2l		= .ptr2
.ptr2h		= .ptr2+1

; IRQ vector
; irqvec		= $e0
irqvec		= $0280
nmivec		= $0282
outvec		= $0284
invec		= $0286

ram_end 	= $0288
ram_end_l   = ram_end
ram_end_h   = ram_end+1
; ramend
; ram_end_l   = $e2
; ram_end_h   = ram_end_l+1

dirptr 		= $e4 ; 2 byte
; outvec		= $e6
; invec		= $e8
paramvec	= $ea
fat_dir_action_hook		= $ec
fat_dir_display_hook	= $ec
fat_dir_filter_hook		= $ee
; general purpose temp variables
tmp0		= $f0
tmp1		= $f1
tmp2		= $f2
tmp3		= $f3
tmp4		= $f4
tmp5		= $f5
tmp6		= $f6
tmp7		= $f7

.entries 	= $f8
.startaddr	= .ptr1
.endaddr	= .ptr2
.length		= tmp0

; pointer to filename for fs operations (open...)
filenameptr		= $fa

; pointer for io block operations
sd_blkptr 	= $fc

; pointer for string output functions 
msgptr 		= $fe

; MEMCTL Register
memctl    = $0230
; SD CArd command parameter/result buffer
sd_cmd_param = $0300
sd_cmd_chksum	= sd_cmd_param+4
sd_cmd_result = $031f

; SD Card error
; $ff - No Card
; $0f - Invalid Card
; $00 - No error

errno	 		= $0300
lba_addr = $20
fat_reserved_sect 	= $0301 ; number of reserved sectors, 2 bytes
cluster_begin_lba 	= $0303 ; begin of cluster area, 4 bytes
sectors_per_cluster = $0307 ; sectors per cluster, 1 byte
root_dir_first_clus = $0308 ; first cluster of root dir, 4 bytes
filename_buf		= $030c ; file name buffer, 11 bytes

fd_area				= $0320 ; File descriptor area, 16x8byte 
xxx					= $0393 ;
sd_blktarget 		= $0400

.steckos_start		= $1000	

charset  	 =$e000
charset_6x8  =$e800
}

;----------------------------------------------------------------------------------------------

;----------------------------------------------------------------------------------------------
; MACROS
;----------------------------------------------------------------------------------------------
!source <macro.h.a>
